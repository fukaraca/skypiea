{{ define "header" }}
{{ if .LoggedIn }}
<header class="d-flex flex-wrap align-items-center justify-content-center justify-content-md-between py-3 px-1 border-bottom">
    <div class="col-md-3 position-relative">
        <a class="navbar-brand" href="/">
            <img src="/web/static/img/skypiea-ai-logo.svg" alt="Logo" width="180" height="60" class="d-inline-block align-text-top">
        </a>

        <a class="invite-chip position-absolute id-lg top-50 translate-middle-y start-100 ms-3 d-none d-md-inline-flex"
           href="https://runesmith.skypiea-ai.xyz"
           target="_blank"
           rel="noopener noreferrer"
           hx-boost="false">
            Runesmith <span class="ext ms-1" aria-hidden="true">↗</span>
        </a>
    </div>
    <div class="col-md-3 text-end">
        <div class="dropdown">
            <button class="btn btn-secondary rounded-circle"
                    type="button"
                    data-bs-toggle="dropdown"
                    aria-expanded="false"
                    style="width: 40px; height: 40px;">
                {{ if .UserInitials }}{{ .UserInitials }}{{ else }}AI{{ end }}
            </button>
            <ul class="dropdown-menu dropdown-menu-end">
                <li><a class="dropdown-item" href="/profile">Profile</a></li>
                <li><hr class="dropdown-divider"></li>
                <li><a class="dropdown-item" href="#" hx-delete="/logout" hx-redirect="/" hx-confirm="Are you sure you want to log out?">Logout</a></li>
            </ul>
        </div>
    </div>
</header>
{{ else }}
<header class="d-flex flex-wrap align-items-center justify-content-center justify-content-md-between py-3 px-1 border-bottom">
    <div class="col-md-3 position-relative">
        <a class="navbar-brand" href="/">
            <img src="/web/static/img/skypiea-ai-logo.svg" alt="Logo" width="180" height="60" class="d-inline-block align-text-top">
        </a>

        <a class="invite-chip is-lg position-absolute top-50 translate-middle-y start-100 ms-3 d-none d-md-inline-flex"
           href="https://runesmith.skypiea-ai.xyz"
           target="_blank"
           rel="noopener noreferrer"
           hx-boost="false">
            Runesmith <span class="ext ms-1" aria-hidden="true">↗</span>
        </a>
    </div>

    <ul id="navid" class="nav col-12 col-md-auto mb-2 justify-content-center mb-md-0">
        <li><a href="/" class="nav-link px-2">Home</a></li>
        <li><a href="/features" class="nav-link px-2">Features</a></li>
        <li><a href="/pricing" class="nav-link px-2">Pricing</a></li>
        <li><a href="/faq" class="nav-link px-2">FAQ</a></li>
        <li><a href="/about" class="nav-link px-2">About</a></li>

        <!-- Mobile fallback so the link is reachable on small screens -->
        <li class="d-md-none">
            <a class="nav-link px-2"
               href="https://runesmith.skypiea-ai.xyz"
               target="_blank"
               rel="noopener noreferrer"
               hx-boost="false">
                Runesmith <span class="ms-1" aria-hidden="true">↗</span>
            </a>
        </li>
    </ul>

    <div class="col-md-3 text-end">
        <a href="/login" class="btn btn-outline-success me-2">Login</a>
        <a href="/signup" class="btn btn-primary">Sign-up</a>
    </div>
</header>
{{ end }}
{{ end }}
